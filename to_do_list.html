<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My To do</title>
    <style>
        .checked {
            text-decoration: line-through;
            color: gray;
        }

        .deleteBtn {
            margin-left: 10px;
            color: red;
            font-weight: bold;
            cursor: pointer;
        }

        li {
            margin: 5px 0;
            list-style-type: none;
        }

        .task-text {
            margin-left: 8px;
        }
    </style>
</head>

<body>
    <div id="myDIV" class="header">
        <h2 style="margin:5px">My To Do List</h2>
        <input type="text" id="myInput" placeholder="Title...">
        <button onclick="newElement()" class="addBtn">Add</button>
    </div>

    <br>

    <label for="categorySelect">Kategorija</label>
    <select id="categorySelect">
        <option value="Zvans">Zvans</option>
        <option value="E-pasts">E-pasts</option>
        <option value="Tikšanas">Tikšanas</option>
    </select>

    <br><br>

    <ul id="myUL"></ul>


    <script>
        function newElement() {
            const inputValue = document.getElementById("myInput").value;
            const category = document.getElementById("categorySelect").value;

            if (inputValue === "") {
                alert("Ievadi tekstu!");
                return;
            }

            const li = document.createElement("li");

            const checkbox = document.createElement("input");
            checkbox.type = "checkbox";

            const spanText = document.createElement("span");
            spanText.textContent = inputValue + "  (" + category + ")";
            spanText.className = "task-text";
            spanText.onclick = function () {
                checkbox.checked = !checkbox.checked;
                checkbox.onchange();
            };

            checkbox.onchange = function () {
                if (checkbox.checked) {
                    spanText.classList.add("checked");
                } else {
                    spanText.classList.remove("checked");
                }
            };
            const deleteBtn = document.createElement("span");
            deleteBtn.textContent = " ×";
            deleteBtn.className = "deleteBtn";

            deleteBtn.onclick = function (b_1) {
                console.log("dell", b_1);
                li.remove();
            };

            li.appendChild(checkbox);
            li.appendChild(spanText);
            li.appendChild(deleteBtn);


            document.getElementById("myUL").appendChild(li);

            document.getElementById("myInput").value = "";
        }
    </script>
    <br><br>

</body>

</html>